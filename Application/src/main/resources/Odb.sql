CREATE TABLE t_area (
  AreaName VARCHAR2(100) NOT NULL PRIMARY KEY
);

CREATE TABLE t_broker (
  BrokerID INT GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY,
  BrokerName VARCHAR2(255) NOT NULL,
  PolicyNumber INT NOT NULL,
  CONSTRAINT fk_broker_policy FOREIGN KEY (PolicyNumber) REFERENCES t_policy(PolicyNumber) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE t_brokerpolicy (
  BrokerID INT NOT NULL,
  PolicyNumber INT NOT NULL,
  PRIMARY KEY (BrokerID, PolicyNumber),
  CONSTRAINT fk_brokerpolicy_broker FOREIGN KEY (BrokerID) REFERENCES t_broker(BrokerID) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT fk_brokerpolicy_policy FOREIGN KEY (PolicyNumber) REFERENCES t_policy(PolicyNumber) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE t_claim (
  ClaimNumber INT GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY,
  PolicyNumber INT NOT NULL,
  claimType VARCHAR2(20),
  ClaimDate DATE NOT NULL,
  ClaimAmount DECIMAL(10,2) NOT NULL,
  CONSTRAINT fk_claim_policy FOREIGN KEY (PolicyNumber) REFERENCES t_policy(PolicyNumber) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE t_clubassoc (
  CAName VARCHAR2(100) NOT NULL PRIMARY KEY
);

CREATE TABLE t_insurancecompany (
  CompanyName VARCHAR2(255) NOT NULL PRIMARY KEY,
  CompanyLocation VARCHAR2(60) NOT NULL,
  PolicyNumber INT NOT NULL,
  CONSTRAINT fk_policy_number FOREIGN KEY (PolicyNumber) REFERENCES t_policy(PolicyNumber) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE t_policy (
  PolicyNumber INT GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY,
  PolicyHolderID VARCHAR2(9) NOT NULL,
  PolicyName VARCHAR2(100) NOT NULL,
  PolicyType VARCHAR2(50) NOT NULL,
  PolicyCost DECIMAL(8,2) NOT NULL,
  expiryDate DATE NOT NULL,
  CONSTRAINT fk_policy_policyholder FOREIGN KEY (PolicyHolderID) REFERENCES t_policyholder(PolicyHolderID) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE t_policyholder (
  PolicyHolderID VARCHAR2(9) NOT NULL PRIMARY KEY,
  FirstName VARCHAR2(50) NOT NULL,
  LastName VARCHAR2(50) NOT NULL,
  CompanyName VARCHAR2(255) NOT NULL,
  phoneNumber VARCHAR2(15) NOT NULL,
  DOB DATE NOT NULL,
  Address VARCHAR2(255),
  CONSTRAINT fk_policyholder_company FOREIGN KEY (CompanyName) REFERENCES t_insurancecompany(CompanyName) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE t_policyholder_clubassoc (
  PolicyHolderID VARCHAR2(9) NOT NULL,
  CAName VARCHAR2(100) NOT NULL,
  PRIMARY KEY (PolicyHolderID, CAName),
  CONSTRAINT fk_policyholder_clubassoc_policyholder FOREIGN KEY (PolicyHolderID) REFERENCES t_policyholder(PolicyHolderID) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT fk_policyholder_clubassoc_clubassoc FOREIGN KEY (CAName) REFERENCES t_clubassoc(CAName) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE t_product (
  ProductNo INT GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY,
  ProductType VARCHAR2(100) NOT NULL,
  AreaName VARCHAR2(100) NOT NULL,
  PolicyNumber INT NOT NULL,
  CONSTRAINT fk_product_policy FOREIGN KEY (PolicyNumber) REFERENCES t_policy(PolicyNumber) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT fk_product_area FOREIGN KEY (AreaName) REFERENCES t_area(AreaName) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE t_reinsurer (
  ReinsurerID INT GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY,
  ReinsurerName VARCHAR2(255) NOT NULL,
  ReinsurerLocation VARCHAR2(100) NOT NULL
